# ⚔️ 게임 시스템 상세 명세

> **최종 수정일:** 2026-01-13  
> **버전:** v1.1

이 문서는 Prehistoric Life의 모든 게임 시스템 공식을 정의합니다.

**개발 시 이 문서의 공식을 그대로 코드로 구현합니다.**

---

## 📋 목차

1. [스탯 시스템](#1-스탯-시스템)
2. [충성도 시스템](#2-충성도-시스템)
3. [속성 시스템](#3-속성-시스템)
4. [전투 시스템](#4-전투-시스템)
5. [다굴 시스템](#5-다굴-시스템)
6. [크리티컬 시스템](#6-크리티컬-시스템)
7. [탑승 시스템](#7-탑승-시스템)
8. [장비 시스템](#8-장비-시스템)
9. [내구도 시스템](#9-내구도-시스템)
10. [제작 시스템](#10-제작-시스템)
11. [주술 시스템](#11-주술-시스템)
12. [상태이상 시스템](#12-상태이상-시스템)
13. [펫 시스템](#13-펫-시스템)
14. [스테이지 시스템](#14-스테이지-시스템)
15. [경험치/레벨업 시스템](#15-경험치레벨업-시스템)
16. [요일 던전](#16-요일-던전)
17. [캐릭터 생성 시스템](#17-캐릭터-생성-시스템)
18. [NPC/상점 시스템](#18-npc상점-시스템)
19. [멀티플레이](#19-멀티플레이)

---

## 1. 스탯 시스템

### 1.1 기본 스탯 (5개)

| 스탯 | 한글명 | 영문 | 역할 |
|------|--------|------|------|
| 힘 | 힘 | STR | 물리 공격력 |
| 민첩 | 민첩 | AGI | 턴 순서 + 회피율 |
| 체력 | 체력 | VIT | HP (피통) |
| 건강 | 건강 | CON | 방어력 |
| 지력 | 지력 | INT | MP |

### 1.2 포인트 배분

| 항목 | 수치 |
|------|------|
| 초기 스탯 | 각 5씩 (총 25) |
| 초기 보너스 | +20 포인트 자유 배분 |
| 레벨업 보너스 | +5 포인트 |

### 1.3 파생 스탯 공식

```javascript
MaxHP = 100 + (체력 × 10) + (레벨 × 5)
MaxMP = 50 + (지력 × 5) + (레벨 × 2)
ATK   = 10 + (힘 × 2) + (레벨 × 1.5)
DEF   = 5 + (건강 × 2) + (레벨 × 0.8)
SPD   = 10 + (민첩 × 2)   // 턴 순서용
EVA   = 민첩 × 0.3        // 회피율(%)
```

### 1.4 기타 스탯

| 항목 | 방식 |
|------|------|
| 치명타 | 스탯 무관, **장비/스킬로만** 획득 |
| 드랍률/포획률 | **숨겨진 행운 수치** (장비, 칭호, 버프) |

---

## 2. 충성도 시스템

### 2.1 기본 정보

| 항목 | 내용 |
|------|------|
| 범위 | 0 ~ 100 |
| 초기값 | 50 (포획 직후) |
| 표시 | "충성도: 73/100" |

### 2.2 충성도 변화

| 상황 | 변화량 |
|------|--------|
| 전투 승리 | +1 ~ 2 |
| 특정 아이템 (먹이 등) | +5 ~ 10 |
| 전투 중 기절 | -5 |

### 2.3 레벨 차이에 따른 감소

펫 레벨이 캐릭터보다 높을 경우:

| 레벨 차이 | 충성도 감소 |
|-----------|-------------|
| 5레벨 높음 | -10% |
| 10레벨 높음 | -20% |
| 20레벨 높음 | -50% |

### 2.4 충성도 효과

| 충성도 | 전투 보너스 | 불복 확률 | 도주 위험 |
|--------|-------------|-----------|-----------|
| 100 | 데미지 +10%, 명중 +5% | 0% | 없음 |
| 70 | +5%, +2% | 5% | 없음 |
| 50 | 없음 | 15% | 없음 |
| **30 이하** | -10%, -5% | 30% | **탈주 가능** |
| 10 이하 | -20%, -10% | 50% | 탈주 확률 높음 |

### 2.5 불복 시 행동

- 멍때림 (행동 스킵)
- 다른 적 공격
- 방어

---

## 3. 속성 시스템

### 3.1 4대 속성 상성

```
지(地) → 풍(風) → 화(火) → 수(水) → 지(地)

A → B = "A가 B에게 강함"
```

| 상황 | 데미지 배율 |
|------|-------------|
| 상성 우위 | **130%** |
| 상성 열위 | **70%** |
| 동일/무속성 | 100% |

### 3.2 복합 속성

- 캐릭터/펫 모두 **2속성 조합 가능**
- 예: 화 70% + 풍 30%

### 3.3 허용 조합 (인접 속성만)

| 조합 | 가능 여부 |
|------|-----------|
| 지 + 풍, 풍 + 화, 화 + 수, 수 + 지 | ✅ 가능 |
| 지 + 화, 풍 + 수 | ❌ 불가 |

### 3.4 복합 속성 데미지 계산

```javascript
// 수(Water) 속성으로 화70%+풍30% 대상 공격 시
최종배율 = (0.7 × 화에대한배율) + (0.3 × 풍에대한배율)
         = (0.7 × 1.3) + (0.3 × 0.7)
         = 0.91 + 0.21
         = 1.12 (112% 데미지)
```

---

## 4. 전투 시스템

### 4.1 게임 구조

**스테이지 클리어형** (오픈월드 아님)

| 콘텐츠 | 우선순위 | MVP 포함 |
|--------|----------|----------|
| 스테이지 던전 | 1순위 | ✅ |
| 요일 던전 | 2순위 | ✅ |
| 탑/레이드/PVP/길드 | 3~6순위 | ❌ |

### 4.2 전투 편성

| 모드 | 아군 구성 | 적군 |
|------|-----------|------|
| **솔플** | 캐릭터 1 + 펫 1~3마리 | 1~10마리 |
| **솔플 (탑승)** | 캐릭터 1(탑승) + 펫 1~4마리 | 1~10마리 |
| **파티** | 각 캐릭터 + 탑승(선택) + 펫 1(선택) | 1~10마리 |

### 4.3 턴 방식

- **완전 턴제**: 모든 아군 명령 입력 → 민첩 순 실행
- **파티 플레이**: 동시 입력 → 민첩 순 실행

### 4.4 행동 분리

| 유닛 | 가능한 행동 |
|------|-------------|
| **캐릭터** | 공격, 주술, 방어, 포획, 아이템, 펫 교체, 도주 |
| **펫** | 공격, 방어, 기술1, 기술2 |

### 4.5 명중/회피 계산

```
1단계: 명중 판정 (무기 정확도)
   ↓ 성공
2단계: 회피 판정 (상대 EVA%)
   ↓ 회피 실패
3단계: 데미지 적용
```

### 4.6 패배/스태미나

| 항목 | 내용 |
|------|------|
| 패배 페널티 | 장비 내구도 감소 |
| 스태미나 | **없음** (무제한 플레이) |

---

## 5. 다굴 시스템

### 5.1 개요

민첩이 비슷한 아군이 **함께 순차 공격**

### 5.2 발동 조건

| 항목 | 내용 |
|------|------|
| 민첩 유사 기준 | **±10% 이내** |
| 최대 인원 | 제한 없음 |
| 방해 요소 | 적 민첩이 끼어들면 다굴 끊김 |

### 5.3 다굴 크리티컬 보너스

| 참여 인원 | 크리티컬 추가 |
|-----------|---------------|
| 2명 | +10% |
| 3명 | +20% |
| 4명 | +30% |
| 5명+ | **최대 +50%** |

---

## 6. 크리티컬 시스템

### 6.1 기본 정보

| 항목 | 내용 |
|------|------|
| 기본 확률 | **5%** |
| 다굴 보너스 | 인원당 +10% (최대 +50%) |
| 추가 확률 | 장비/스킬로 획득 |

### 6.2 크리티컬 효과

**방어력(건강) 완전 무시!**

```javascript
일반: (공격력 × 무기배율) - 방어력
크리: (공격력 × 무기배율)  // 방어력 무시
```

---

## 7. 탑승 시스템

### 7.1 탑승 시 행동

캐릭터 행동으로 진행 (펫은 이동수단 + 스탯 제공)

### 7.2 무기별 공격 모션

| 무기 | 탑승 시 모션 |
|------|-------------|
| 칼, 곤봉, 도끼, 창, 손톱 | 펫 모션으로 공격 |
| 활 | 캐릭터가 활을 쏨 |

### 7.3 탑승 스탯

캐릭터 + 펫 스탯 **합산** (비율 추후 조정)

### 7.4 탑승 피격 시

- 캐릭터/펫 각각의 **건강 + 체력** 비율로 데미지 분배
- **캐릭터 HP 0** → 캐릭터 + 탑승펫 모두 기절
- **펫 HP 0** → 펫 사라짐, 캐릭터만 남아서 싸움

---

## 8. 장비 시스템

### 8.1 무기 (6종류)

| 무기 | 공격력 | 정확도 | 패널티 | 특수 |
|------|--------|--------|--------|------|
| 칼 | 150% | 90% | 순발력 -10 | - |
| 곤봉 | 100% | 100% | 없음 | 밸런스형 |
| 도끼 | 200% | 90% | 순발력 -20, 방어력 -20 | 하이리스크 |
| 창 | 90% × 2회 | 80% | 순발력 -20 | 2회 공격 |
| 손톱 | 40% × 3회 | 90% | 없음 | 3회 공격 |
| 활 | 80% × 1~N회 | 80% | 없음 | 랜덤 타격 |

### 8.2 장비 부위 (4개)

| 종류 | 부위 |
|------|------|
| 방어구 | 갑옷, 투구 |
| 악세서리 | 팔찌, 목걸이 |

### 8.3 장비 특성

| 항목 | 내용 |
|------|------|
| 등급 | **없음** |
| 능력치 | 착용 레벨 기준 + 범위 내 랜덤 |
| 주술 | 장비당 **1개** (제작 시 결정, 교체 불가) |

### 8.4 부위별 주요 스탯

| 부위 | 주요 스탯 |
|------|-----------|
| 무기 | 힘(공격력) + 주술 1개 |
| 갑옷 | 건강(방어력) + 체력(HP) |
| 투구 | 건강(방어력) + 지력(MP) |
| 팔찌 | 힘 or 민첩 |
| 목걸이 | 지력 or 체력 |

---

## 9. 내구도 시스템

### 9.1 기본 정보

| 항목 | 내용 |
|------|------|
| 최대값 | 100 (모든 장비 동일) |
| 표시 | **30% 이하일 때 경고** |

### 9.2 내구도 감소 (피격 시)

| 장비 종류 | 일반 | 크리티컬 |
|-----------|------|----------|
| 무기 | 0.5 | 1.0 |
| 갑옷 | 1.0 | 2.0 |
| 악세서리 | 0.5 | 1.0 |

### 9.3 내구도 0

**장비 파괴 (영구 삭제)**

### 9.4 수리

| 항목 | 내용 |
|------|------|
| 장소 | NPC 대장장이 |
| 비용 | 골드 + 재료 (장비 레벨 비례) |

---

## 10. 제작 시스템

### 10.1 제작 방식

| 항목 | 내용 |
|------|------|
| 레시피 | 고정 조합 |
| 주술 | 특정 재료로 자유 선택 |
| 능력치 | 범위 내 랜덤 |
| 장소 | NPC 대장장이 |
| 비용 | 재료 + 골드 |

### 10.2 재료 등급

숫자 레벨: 뼈다귀1, 뼈다귀2, 뼈다귀3...

### 10.3 재료 드랍

| 재료 종류 | 획득처 |
|-----------|--------|
| 일반 재료 | 스테이지 드랍 |
| 주술 재료 | 요일 던전 드랍 |

---

## 11. 주술 시스템

### 11.1 개요

캐릭터가 사용하는 마법 (펫 기술과 별도)

### 11.2 주술 종류

| 유형 | 예시 |
|------|------|
| 속성 강화 | 화속성 공격력 +30% |
| 공격 반사 | 받은 데미지 일부 반사 |
| 흡수 | 데미지 일부를 HP로 흡수 |
| 상태이상 | 독, 석화, 혼란 등 |

### 11.3 주술 슬롯

장착된 장비의 주술 수만큼 사용 가능 (최대 5개)

---

## 12. 상태이상 시스템

### 12.1 기본 규칙

| 항목 | 내용 |
|------|------|
| 중첩 | 불가 |
| 동시 적용 | **1개만** (새 상태이상 시 덮어쓰기) |
| 지속 시간 | **3~5턴 랜덤** |
| 해제 | 시간 / 아이템 / 주술 |

### 12.2 적용 확률

| 범위 | 적용 확률 |
|------|-----------|
| 단일 대상 | 90% |
| 전체 대상 | 80% (개별 적용) |

### 12.3 상태이상 목록 (9종)

| 상태이상 | 효과 | 약점 속성 |
|----------|------|-----------|
| **독** | 턴마다 최대HP 5~10% 피해 | 화 120% |
| **석화** | 행동 불가 + 받는 데미지 -20% | 풍 120% |
| **혼란** | 자신/적/동료 33%씩 공격 | - |
| **동결** | 행동 불가 | 화 공격 시 해제 |
| **마비** | 50% 행동 불가 + 민첩 -30% | 지 120% |
| **실명** | 명중률 -30% | - |
| **침묵** | 주술/스킬 사용 불가 | - |
| **공포** | 방어/도주만 가능 | - |
| **화상** | 공격력 -20% + 턴마다 최대HP 3~5% | 수 120% |

---

## 13. 펫 시스템

### 13.1 펫 기술

| 항목 | 내용 |
|------|------|
| 기술 수 | **고정 2개** |
| 기술 속성 | 펫 속성 따라감 |

### 13.2 펫 점수

| 항목 | 내용 |
|------|------|
| 구성 요소 | 레벨 + 성장률 |
| 표시 | 숫자 (예: "점수: 1,523") |

### 13.3 펫 합성 (MVP 이후)

| 항목 | 내용 |
|------|------|
| 조건 | 펫 점수가 일정 이상 |
| 성장률 반영 | 부모 성장률 **60% 반영** + 랜덤 |

---

## 14. 스테이지 시스템

### 14.1 스테이지 구조

| 번호 | 유형 | 설명 |
|------|------|------|
| 일반 (1, 2, 3...) | 단일 전투 | 적 1~10마리 처치 |
| **5배수** (5, 15...) | 다중 웨이브 | 여러 웨이브 연속 |
| **10배수** (10, 20...) | 보스전 | 잡몹 + 보스 |

### 14.2 클리어 조건

**모든 적 처치**

### 14.3 진행 방식

**순차 해금** (1-1 → 1-2 → 1-3...)

### 14.4 별점 시스템 (⭐⭐⭐)

| 별 | 조건 |
|----|------|
| ⭐ 1번째 | 모두 생존 (기절 없이 클리어) |
| ⭐ 2번째 | 10턴 이내 클리어 |
| ⭐ 3번째 | 스테이지별 특수 퀘스트 |

### 14.5 포획 시스템

| 항목 | 내용 |
|------|------|
| 포획 대상 | **1레벨 펫만** |
| 출현 조건 | 반복 플레이 시 확률 등장 |
| 1레벨 펫 등장률 | **3% 미만** |
| 희귀 컬러 | **0.005%** (외형만 다름) |

---

## 15. 경험치/레벨업 시스템

### 15.1 기본 정보

| 항목 | 내용 |
|------|------|
| 최대 레벨 | **99** |
| 만렙 목표 시간 | 336시간 (2주 풀플레이) |
| 레벨업 곡선 | 지수형 (초반 빠름, 후반 느림) |
| 경험치 대상 | **참전자만** |

### 15.2 레벨업 필요 경험치

| 레벨 | 필요 EXP |
|------|----------|
| 1→2 | 8 |
| 2→3 | 20 |
| 3→4 | 40 |
| 4→5 | 100 |
| 5+ | 밸런싱 시 조정 |

### 15.3 몬스터 경험치

| 항목 | 내용 |
|------|------|
| 기본 (Lv1) | 4 EXP |
| 공식 | `Lv × (2 + Lv/20)` |
| 보스 배율 | **×1.1** |

### 15.4 파티 경험치 보너스

| 인원 | 획득량 |
|------|--------|
| 1인 | 100% |
| 2인 | 103% |
| 3인 | 106% |
| 4인 | 109% |
| 5인 | **120%** |

### 15.5 레벨 차이 페널티

| 레벨 차이 | 페널티 |
|-----------|--------|
| 1~10 | 없음 |
| 11~20 | -1~5% |
| 21~30 | -6~20% |
| 31+ | -50% |

---

## 16. 요일 던전

### 16.1 요일별 드랍

| 요일 | 드랍 재료 |
|------|-----------|
| 월 | 무기 재료 |
| 화 | 갑옷 재료 |
| 수 | 투구 재료 |
| 목 | 팔찌 재료 |
| 금 | 목걸이 재료 |
| 토 | 주술 재료 |
| 일 | 전체 오픈 |

### 16.2 구조

| 항목 | 내용 |
|------|------|
| 구조 | 순차 해금 스테이지 |
| 입장 | **무제한** |
| 드랍률 | 낮음 |

---

## 17. 캐릭터 생성 시스템

### 17.1 생성 흐름

```
1. 닉네임 입력 (2~8자, 한/영/숫자)
   ↓
2. 외형 랜덤 생성 (무제한 재생성)
   ↓
3. 속성 선택 (단일 or 복합)
   ↓
4. 초기 스탯 20포인트 배분
   ↓
5. 스타터 펫 지급
   ↓
6. 게임 시작
```

### 17.2 외형 요소 (MVP)

| 파츠 | 종류 수 |
|------|---------|
| 눈 | 5종 |
| 코 | 3종 |
| 입 | 4종 |
| 머리스타일 | 6종 |
| 피부톤 | 5종 |

---

## 18. NPC/상점 시스템

### 18.1 마을 시설 (MVP)

| 시설 | 기능 |
|------|------|
| **상점** | 아이템 구매/판매 |
| **대장장이** | 장비 제작/수리 |
| **펫 관리소** | 펫 보관 (10마리) |

### 18.2 상점

**구매:** 상처약 (소/중/대), 기력약 (소/중/대), 상태이상 치료  
**판매:** 재료/장비/펫 = 구매가의 50%

---

## 19. 멀티플레이

### 19.1 파티 플레이

| 항목 | 내용 |
|------|------|
| 최대 인원 | 5명 |
| 편성 | 캐릭터 1 + 탑승(선택) + 펫 1(선택) |
| 턴 입력 | 동시 입력 → 민첩 순 실행 |

---

## 📋 밸런싱 필요 목록

- [ ] 파생 스탯 공식 (HP, MP, ATK, DEF, SPD, EVA)
- [ ] 무기별 패널티 수치
- [ ] 다굴 민첩 범위 (±10%)
- [ ] 충성도 변화량
- [ ] 1레벨 펫 등장률 (3% 미만)
- [ ] 내구도 감소량
- [ ] 탑승 시 스탯 합산 비율
- [ ] 경험치 테이블 (Lv 5 이후)
- [ ] 몬스터 경험치 공식

---

## 📋 MVP 제외 항목

- [ ] 튜토리얼
- [ ] 퀘스트 시스템
- [ ] 펫 합성/진화
- [ ] 거래소/캐시샵
- [ ] 우편함/창고
- [ ] 탑/레이드/PVP/길드

---

## 📝 버전 히스토리

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| v1.0 | 2026-01-13 | 초기 작성 |
| v1.1 | 2026-01-13 | 포맷 통일, 목차 추가, 테이블 정리 |
